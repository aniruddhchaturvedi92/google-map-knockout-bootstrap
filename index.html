<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Y Penty - Area Map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="lib/bootstrap-3.3.6-dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBm8Vo8PUjj2HFaPBgfwKdTTjOyBo3LY-c"></script>
</head>
<body>
	<div class="container-fluid">
		<nav class="navbar navbar-inverse">
			<div class="navbar-header">
				<a href="#" class="navbar-brand">Y Penty - Area Map</a>
			</div>
			<ul class="nav navbar-nav nav-pills navbar-right" role="navigation">
				<li data-bind="visible: filterInput(), click: clearFilter"><a href="#"><span class="glyphicon glyphicon-filter" data-bind="css: { filtered: filterInput() }"></span></a></li>
				<li data-bind="click: toggleSearch, css: { active: searchIsOpen() }"><a href="#"><span class="glyphicon glyphicon-search"></span></a></li>
				<li class="visible-xs-inline-block" data-bind="click: toggleList, css: { active: listIsOpen() }"><a href="#"><span class="glyphicon glyphicon-list"></span></a></li>
			</ul>				
		</nav>
		<div id="top-box">
			<div id="search-area" data-bind="visible: searchIsOpen">
				<form class="form-group has-feedback">
					<input id="filter-input" class="form-control" placeholder="What are you looking for?" autofocus data-bind="textInput: filterInput, event: { keyup: filterMarkers }"></input><i class="glyphicon glyphicon-filter indicator form-control-feedback" data-bind="visible: filterInput()"></i>
				</form>
			</div>
			<div id="list-view" data-bind="visible: listIsOpen, css: { filtered : filterInput() }">
				<ul class="list-group" data-bind="foreach: filteredPlaces">
					<li class="list-group-item" data-bind="text: name, click: $parent.selectPlace, css: { selected: name == $parent.selectedPlace().name }"></li>
				</ul>
			</div>
		</div>
		<div id="info-min" data-bind="visible: selectedPlace().name && infoIsOpen() == false">
			<i class="glyphicon glyphicon-chevron-up pull-right" data-bind="click: openInfo"></i>
		</div>			
		<div id="info" data-bind="visible: selectedPlace().name && infoIsOpen">
			<i class="glyphicon glyphicon-chevron-down pull-right" data-bind="click: closeInfo"></i>
			<h3 data-bind="text: selectedPlace().name"></h3>
			<div data-bind="text: selectedPlace().description"></div>
			<div id="fourSq">
                <h4>Info from FourSquare.com</h4>
                <img data-bind="attr: { src : fourSqData().imgSrc }" alt="Top photo of this location from FourSquare" class="info-image">
                <div data-bind="text: fourSqData().url"></div>
            </div>
		</div>
		<div id="map"></div>
	</div>
	<script type="text/javascript" data-main="js/common" src="lib/require.js"></script>
    <script>
    require(['common'], function(){
        require(['app', 'jquery', 'bootstrap'], function(app, $){
        });
    });
    </script>

	<!--<script src="lib/jquery.min.js"></script>
	<script src="lib/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>-->
</body>
</html>